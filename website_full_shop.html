<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Full Shop - OneTech</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
    body{background:#f5f5f5}
    header{background:#111;color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}
    nav a{color:#fff;margin:0 10px;text-decoration:none;font-size:18px}
    .container{width:90%;margin:auto;margin-top:20px}
    .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px}
    .card{background:#fff;border-radius:10px;box-shadow:0 0 10px #ccc;padding:15px}
    .card img{width:100%;border-radius:10px}
    .btn{display:block;text-align:center;background:#ff3b3b;color:#fff;padding:10px;border-radius:7px;text-decoration:none;margin-top:10px;cursor:pointer}
    .btn:hover{opacity:.8}

    /* Popup */
    #popup{position:fixed;top:20px;right:20px;background:#4caf50;color:#fff;padding:15px;border-radius:10px;display:none}

    /* Modal */
    .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:none;justify-content:center;align-items:center}
    .modal-content{background:#fff;padding:20px;width:300px;border-radius:10px}
    .close{float:right;color:red;font-size:20px;cursor:pointer}

    /* Giỏ hàng */
    #cartPage{display:none}
    table{width:100%;background:#fff;padding:10px;border-radius:10px}
    table,th,td{border:1px solid #ccc;border-collapse:collapse}
    th,td{padding:10px;text-align:center}
  </style>
</head>
<body>

<header>
  <h2>OneTech Shop</h2>
  <nav>
    <a href="#" id="homeBtn">Trang chủ</a>
    <a href="#" id="cartBtn">Giỏ hàng (<span id="cartCount">0</span>)</a>
    <a href="#" id="loginBtn">Đăng nhập</a>
  </nav>
</header>

<div id="popup">Đã thêm vào giỏ!</div>

<div id="homePage" class="container">
  <h2>Sản phẩm nổi bật</h2>
  <div class="products" id="productList"></div>
</div>

<div id="cartPage" class="container">
  <h2>Giỏ hàng</h2>
  <table>
    <thead>
      <tr><th>Ảnh</th><th>Tên</th><th>Giá</th><th>Xoá</th></tr>
    </thead>
    <tbody id="cartTable"></tbody>
  </table>
  <br>
  <a class="btn" id="checkoutBtn">Thanh toán</a>
</div>

<!-- Modal Login -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <span class="close" id="closeLogin">×</span>
    <h3>Đăng nhập</h3>
    <input id="username" placeholder="Tên đăng nhập" style="width:100%;padding:8px;margin-top:10px">
    <input id="password" type="password" placeholder="Mật khẩu" style="width:100%;padding:8px;margin-top:10px">
    <button class="btn" id="loginConfirm">Xác nhận</button>
  </div>
</div>

<!-- Modal Checkout -->
<div class="modal" id="checkoutModal">
  <div class="modal-content">
    <span class="close" id="closeCheckout">×</span>
    <h3>Thanh toán</h3>
    <p>Chức năng demo: đơn hàng đã được ghi nhận!</p>
  </div>
</div>

<script>
// Dữ liệu sản phẩm
const products=[
  {id:1,name:"Kệ siêu thị",price:1500000,img:"https://picsum.photos/300?1"},
  {id:2,name:"Kệ kho hạng nặng",price:3500000,img:"https://picsum.photos/300?2"},
  {id:3,name:"Pallet nhựa",price:500000,img:"https://picsum.photos/300?3"},
  {id:4,name:"Xe đẩy hàng",price:1200000,img:"https://picsum.photos/300?4"}
];

let cart = JSON.parse(localStorage.getItem("cart")||"[]");

// Render sản phẩm
function loadProducts(){
  const list=document.getElementById("productList");
  list.innerHTML="";
  products.forEach(p=>{
    list.innerHTML+=`
      <div class='card'>
        <img src="${p.img}">
        <h3>${p.name}</h3>
        <p>${p.price.toLocaleString()} đ</p>
        <a class='btn' onclick='addToCart(${p.id})'>Thêm vào giỏ</a>
      </div>`;
  });
}

function saveCart(){localStorage.setItem("cart",JSON.stringify(cart))}

// Thêm giỏ hàng
function addToCart(id){
  const item=products.find(p=>p.id===id);
  cart.push(item);
  saveCart();
  updateCartCount();
  showPopup();
}

// Hiện popup
function showPopup(){
  const p=document.getElementById("popup");
  p.style.display="block";
  setTimeout(()=>p.style.display="none",1500);
}

function updateCartCount(){document.getElementById("cartCount").textContent=cart.length}

// Hiển thị giỏ hàng
function loadCart(){
  const table=document.getElementById("cartTable");
  table.innerHTML="";
  cart.forEach((item,i)=>{
    table.innerHTML+=`
      <tr>
        <td><img src='${item.img}' width='60'></td>
        <td>${item.name}</td>
        <td>${item.price.toLocaleString()}</td>
        <td><button onclick='removeItem(${i})'>X</button></td>
      </tr>`
  });
}

function removeItem(i){cart.splice(i,1);saveCart();loadCart();updateCartCount()}

// Chuyển trang
const homePage=document.getElementById("homePage");
const cartPage=document.getElementById("cartPage");

document.getElementById("homeBtn").onclick=()=>{
  homePage.style.display="block";
  cartPage.style.display="none";
}
document.getElementById("cartBtn").onclick=()=>{
  homePage.style.display="none";
  cartPage.style.display="block";
  loadCart();
}

// Login modal
const loginModal=document.getElementById("loginModal");
document.getElementById("loginBtn").onclick=()=>loginModal.style.display="flex";
document.getElementById("closeLogin").onclick=()=>loginModal.style.display="none";
document.getElementById("loginConfirm").onclick=()=>{
  alert("Đăng nhập thành công (demo)");
  loginModal.style.display="none";
}

// Checkout
const checkoutModal=document.getElementById("checkoutModal");
document.getElementById("checkoutBtn").onclick=()=>checkoutModal.style.display="flex";
document.getElementById("closeCheckout").onclick=()=>checkoutModal.style.display="none";

loadProducts();
updateCartCount();
</script>

</body>
</html>
